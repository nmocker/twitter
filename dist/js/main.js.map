{"version":3,"sources":["main.js"],"names":["Main","event","preventDefault","searchInputFieldEl","document","querySelector","inputKeywordEl","value","console","log","api","TwitterApi","alert","keywordSearch","tweetsUl","innerHTML","results","detail","r","tweets","tweetEl","createElement","appendChild","userEl","textContent","user","name","contentEl","text","timeEl","created_at","matches","match","url","replace","twitterListeners","bodyEL","addEventListener","handleResults","handleSearchError","searchBtn","handleSearch"],"mappings":"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","sourcesContent":["class Main {\n    constructor() {\n        this.twitterListeners();\n    }\n    twitterListeners() {\n        const bodyEL = document.querySelector('body');\n        bodyEL.addEventListener('got-results', this.handleResults);\n        bodyEL.addEventListener('got-error', this.handleSearchError);\n        const searchBtn = document.querySelector('[name=\"search\"]');\n        searchBtn.addEventListener('click', this.handleSearch);\n    }\n\n    handleSearch = (event) => {\n        event.preventDefault();\n\n        const searchInputFieldEl = document.querySelector('[name=\"field\"]');\n        const inputKeywordEl = searchInputFieldEl.value;\n\n        console.log('searching...', inputKeywordEl);\n\n        const api = new TwitterApi();\n        \n        if (inputKeywordEl === '') {\n            alert('Please enter a keyword')\n        } else {\n            api.keywordSearch(inputKeywordEl);\n        }\n    }\n\n    handleResults = (event) => {\n        const tweetsUl = document.querySelector('.tweets-ul');\n        tweetsUl.innerHTML = '';\n\n        const results = event.detail;\n        console.log('result', results)\n\n        for (let r in results) {\n            const tweets = results[r];\n\n            const tweetEl = document.createElement('li');\n            tweetsUl.appendChild(tweetEl);\n\n            const userEl = document.createElement('h2');\n            tweetEl.appendChild(userEl);\n            userEl.textContent = tweets.user.name;\n\n            const contentEl = document.createElement('p');\n            tweetEl.appendChild(contentEl);\n            contentEl.textContent = tweets.text;\n\n            const timeEl = document.createElement('span');\n            tweetEl.appendChild(timeEl);\n            timeEl.textContent = tweets.created_at;\n        }\n    }\n\n    addHyperlinks = (text) => {\n        // look for anything that can be turned into a link\n        // such as URLs (start with http:// or https://) (and up thru whitespace or end of tweet)\n        // or @mentions (prepend with https://twitter.com/<MENTION NAME>)\n        // or #hashtags (prepend with https://twitter.com/hashtag/<HASHTAG>)\n    \n        /*\n            \\s = whitespace, e.g. \\n \\r \\t ' '\n            \\S = non-whitespace\n            \\d = digit, e.g. 0-9\n            \\D = non-digit\n            \\w = word character, e.g a-z 0-9\n            \\W = non-word character, generally a special character\n    \n            * = 0 or more\n            + = 1 or more\n            ? = 0 or 1\n        */\n        var matches = text.match(/(https?:\\/\\/[\\w\\.]+)/g)\n        if (matches) { \n            // let's add an A tag around each\n            // for (let index in matches) {\n                // let url = matches[index]\n            for (let url of matches) {\n                text = text.replace(url, `<a href=\"${url}\">${url}</a>`)\n            }\t\n        } \n    \n        return text\n    }\n}\nnew Main();"],"file":"main.js"}