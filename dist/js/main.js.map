{"version":3,"sources":["main.js"],"names":["Main","event","preventDefault","searchInputFieldEl","document","querySelector","inputKeywordEl","value","console","log","api","TwitterApi","alert","keywordSearch","tweetsUl","innerHTML","results","detail","r","tweet","tweetEl","createElement","appendChild","tweetDiv","classList","add","imgDiv","userImg","setAttribute","user","profile_image_url","userEl","textContent","name","contentEl","hyperlinkedTweet","addHyperlinks","text","timeEl","created_at","matches","match","url","replace","mentions","twitterListeners","bodyEL","addEventListener","handleResults","handleSearchError","searchBtn","handleSearch"],"mappings":"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","sourcesContent":["class Main {\n    constructor() {\n        this.twitterListeners();\n    }\n    twitterListeners() {\n        const bodyEL = document.querySelector('body');\n        bodyEL.addEventListener('got-results', this.handleResults);\n        bodyEL.addEventListener('got-error', this.handleSearchError);\n        const searchBtn = document.querySelector('[name=\"search\"]');\n        searchBtn.addEventListener('click', this.handleSearch);\n    }\n\n    handleSearch = (event) => {\n        event.preventDefault();\n\n        const searchInputFieldEl = document.querySelector('[name=\"field\"]');\n        const inputKeywordEl = searchInputFieldEl.value;\n\n        console.log('searching...', inputKeywordEl);\n\n        const api = new TwitterApi();\n        \n        if (inputKeywordEl === '') {\n            alert('Please enter a keyword')\n        } else {\n            api.keywordSearch(inputKeywordEl);\n    \n        }\n    }\n\n    handleResults = (event) => {\n        const tweetsUl = document.querySelector('.tweets-ul');\n        tweetsUl.innerHTML = '';\n\n        const results = event.detail;\n        console.log('result', results)\n\n        for (let r in results) {\n            const tweet = results[r];\n\n\n            const tweetEl = document.createElement('li');\n            tweetsUl.appendChild(tweetEl);\n\n            const tweetDiv = document.createElement('div');\n            tweetEl.appendChild(tweetDiv);\n            tweetDiv.classList.add('tweet-div');\n\n            const imgDiv = document.createElement('div');\n            tweetEl.appendChild(imgDiv);\n            imgDiv.classList.add('img-div');\n        \n\n            const userImg = document.createElement('img');\n            userImg.setAttribute('src', tweet.user.profile_image_url);\n            imgDiv.appendChild(userImg);\n\n            const userEl = document.createElement('h2');\n            tweetDiv.appendChild(userEl);\n            userEl.textContent = tweet.user.name;\n\n            \n\n            const contentEl = document.createElement('p');\n            tweetDiv.appendChild(contentEl);\n            var hyperlinkedTweet = this.addHyperlinks(tweet.text)\n            contentEl.innerHTML = hyperlinkedTweet;\n\n            const timeEl = document.createElement('span');\n            tweetDiv.appendChild(timeEl);\n            timeEl.textContent = tweet.user.created_at;\n        }\n    }\n\n    addHyperlinks = (text) => {\n        // look for anything that can be turned into a link\n        // such as URLs (start with http:// or https://) (and up thru whitespace or end of tweet)\n        // or @mentions (prepend with https://twitter.com/<MENTION NAME>)\n        // or #hashtags (prepend with https://twitter.com/hashtag/<HASHTAG>)\n    \n        /*\n            \\s = whitespace, e.g. \\n \\r \\t ' '\n            \\S = non-whitespace\n            \\d = digit, e.g. 0-9\n            \\D = non-digit\n            \\w = word character, e.g a-z 0-9\n            \\W = non-word character, generally a special character\n    \n            * = 0 or more\n            + = 1 or more\n            ? = 0 or 1\n        */\n        var matches = text.match(/(https?:\\/\\/[\\w\\./\\-\\_]+)/g)\n        if (matches) { \n            // let's add an A tag around each\n            // for (let index in matches) {\n                // let url = matches[index]\n            for (let url of matches) {\n                text = text.replace(url, `<a href=\"${url}\">${url}</a>`)\n            }\t\n        } \n\n        var mentions = text.match(/\\s([@#][\\w_-]+)/g)\n        if (mentions) {\n            for (let url of mentions) {\n                text = text.replace(url, `<a href=\"https://twitter.com/${url}\">${url}</a>`)\n            }\n        }\n    \n        return text\n    }\n}\nnew Main();"],"file":"main.js"}